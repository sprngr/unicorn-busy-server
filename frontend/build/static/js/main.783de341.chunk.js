(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(5),r=a.n(l),s=(a(11),a(1)),o=a.n(s),i=a(3),m=a(2),u=(a(13),function(e){return n.createElement(n.Fragment,null,n.createElement("h2",{className:"font-weight-light text-center"},e.status?n.createElement(n.Fragment,null,n.createElement("span",null,"Current status: "),n.createElement("span",{className:"badge badge-pill badge-primary",style:{backgroundColor:e.rgb?"rgb(".concat(e.rgb.red,", ").concat(e.rgb.green,", ").concat(e.rgb.blue,")"):"inherit"}},e.status)):"Busy Light"))}),b=function(e){return n.createElement("button",{className:"btn btn-lg btn-block ".concat(e.className),onClick:function(){return e.callApi(e.apiUrl)}},n.createElement("b",null,e.text))};function p(){var e=null,t=c.a.useState(null),a=Object(m.a)(t,2),n=a[0],l=a[1],r=c.a.useState(null),s=Object(m.a)(r,2),p=s[0],d=s[1],f=c.a.useState(!1),g=Object(m.a)(f,2),E=g[0],w=g[1],v=function(){var t=Object(i.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/status");case 2:if(!(a=t.sent)||!a.ok){t.next=8;break}return t.next=6,a.json();case 6:(n=t.sent)&&n.status?(l(n.status),d({red:n.red,green:n.green,blue:n.blue}),w(!!n.statusOverwritten)):(l(null),d(null));case 8:e=window.setTimeout((function(){v()}),6e4);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();c.a.useEffect((function(){v()}),[]);var N=function(){var t=Object(i.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,fetch(a,{method:"POST",body:JSON.stringify({})});case 3:(n=t.sent)&&n.ok&&(e&&clearTimeout(e),v());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"app container py-4"},c.a.createElement("section",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement(u,{status:n,rgb:p}))),c.a.createElement("section",{className:"row mt-4"},c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-3 mb-4"},c.a.createElement(b,{apiUrl:"/api/available",className:"btn-success",text:"Available",callApi:N})),c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-3 mb-4"},c.a.createElement(b,{apiUrl:"/api/busy",className:"btn-danger",text:"Busy",callApi:N})),c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-3 mb-4"},c.a.createElement(b,{apiUrl:"/api/away",className:"btn-warning",text:"Away",callApi:N})),c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-3 mb-4"},c.a.createElement(b,{apiUrl:"/api/rainbow",className:"btn-secondary rainbow",text:"Rainbow",callApi:N}))),c.a.createElement("section",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-6 mb-4"},c.a.createElement(b,{apiUrl:"/api/on",className:"btn-outline-success",text:"On",callApi:N})),c.a.createElement("div",{className:"col-sm-12 col-md-6 mb-4"},c.a.createElement(b,{apiUrl:"/api/off",className:"btn-outline-dark",text:"Off",callApi:N}))),E&&c.a.createElement("section",{className:"row mt-4"},c.a.createElement("div",{className:"col"},c.a.createElement(b,{apiUrl:"/api/reset",className:"btn-outline-danger",text:"Reset",callApi:N}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){e.exports=a(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.783de341.chunk.js.map